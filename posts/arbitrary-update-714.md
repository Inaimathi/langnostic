We're working on FBP in Common Lisp. You've heard that one before.

Step one was getting a basic system running. In fact, we've got two we're dealing with concurrently<a name="note-Tue-Nov-26-232106EST-2013"></a>[|1|](#foot-Tue-Nov-26-232106EST-2013). Both are kind of rickety because I'm still trying to work out what the essential parts of the approach are. One deals with OS threads and the other is built on top of [cl-async](http://orthecreedence.github.io/cl-async/). I'm liking the second one better for now, but am once again reserving judgment until I see how easily they explode.

Anyhow, that's price of admission, rather than the finish line. Our ultimate goal is to prove out visual programming in the large, without making anyone throw up about it. I have no idea how that's going to end up, except that I've definitely got a couple of interesting years coming up. In order to get to that ultimate goal, step two is finding or building an Acceptable™© Visual Editor.

And we can't find one, so "build" it is.

What we want, being that we're Lispers and polyglots to the last, can best be described as "[Emacs](https://www.gnu.org/software/emacs/) for Diagrams". And that doesn't seem to exist. There's a [number](http://inkscape.org/) of [general-purpose](http://www.adobe.com/ca/products/illustrator.html?sdid=JRSIH&skwcid=AL!3085!10!2843941197!20355419935&ef_id=UdIbfwAAAaQ4Kybq:20131125030001:s) vector [editors](https://code.google.com/p/svg-edit/) out there at various levels of readiness, but those are more like "MS Word for Diagrams". There's a "Sublime for Diagrams" floating around in the form of [yEd](http://www.yworks.com/en/products_yed_about.html), and one piece of fallout from the Russian space program is [basically "Notepad++ for Diagrams"](http://drakon-editor.sourceforge.net/). Microsofts' own [flowcharting suite](http://office.microsoft.com/en-ca/visio/) is something like "Eclipse: The Extra Shit Version for Diagrams. Also You Can't See Our Source Code, Which Is Probably For The Best Because It's Mostly Garbage You'd Laugh Out Of Your Company In Any Other Context". Finally, if we want to use *Emacs* for diagrams, the only thing even remotely workable seems to be [`artist-mode`](http://emacs-fu.blogspot.ca/2009/01/drawing-pictures.html). It's nice, I guess. Certainly better than prostate cancer. But that's not quite what we're looking for.

The thing we *are* looking for needs to be

- **A visual editor**. This needs to be a tool to let humans construct diagrams and related diagrammatic artifacts for a variety of media.
- **A diagram editor**. We're not looking for a general purpose editor. In particular, there are very, very few things we'll be rotating, nothing we'll be coloring<a name="note-Tue-Nov-26-232113EST-2013"></a>[|2|](#foot-Tue-Nov-26-232113EST-2013), and we only need one font at a fairy small variety of font sizes and weights. We'll also never be dealing with embedded bitmaps, gradients, brush-strokes, or shapes more complex than rounded rectangles/ellipses. You'd be surprised how much junk that lets you cut out.
- **Fast**. It shouldn't take longer to draw a diagram with this thing than it would take to describe it. This means a keyboard-oriented interface with easily re-bindable keys, reasonable performance, reasonable start-up, and no half-baked expert system getting in your way by trying to guess what you're trying to do.
- **Scriptable**. It should be possible to *simply* and *easily* construct sequences of operations to be summoned later. It should be easy to run automated queries and transformations on the programs' output and potentially edit the result in a visual manner. It should be fairly simple to select a particular subset of elements and manipulate them in some way.
- **Flexible**. We have no idea what the visual formalism we're finally going to adopt will look like. It might require fine placement of wires and connectors, it might involve different kinds of connections, and it will certainly involve multiple different connections between two nodes<a name="note-Tue-Nov-26-232118EST-2013"></a>[|3|](#foot-Tue-Nov-26-232118EST-2013). It also *can't* make any kind of semantic assumptions about what the content we're editing means, because that might change as we go through the discovery process of what kinds of processes and situations we want to formalize. This also means some sort of proper macro system, an end-user specifiable final/intermediate representation, and source code that we'll be able to tear apart if we need to.

The various editors I list above are split firmly into two camps. First, there are editors aimed at non-programmer humans for general vector construction. They're fairly flexible, but because they're for mouse-pushers, they don't provide a good intermediate representation for our purposes, don't particularly care about ease-of-use or keyboard-centricity, and don't make it particularly easy to script parts of your workflow. In the second camp, there are specialized flow editors aimed at programmers or technical managers, which *do* provide a good deal of flexibility on the keyboard binding front, and provide appropriate output, but *also* make all kinds of assumptions about what you're doing, why, and how you should want to go about it.

If you know of something awesome that I missed, let me know, but for the moment we're rolling our own. I've been working on it for about half a week solid now, and it's taking shape pretty quickly. I showed off the pre-alpha to some folks at [the Erlang conference last week](https://www.erlang-solutions.com/event/toronto-erlang-factory-lite-2013), and got reactions that didn't look like outright disgust. Once it takes some usable shape, I'm planning on posting some videos for you, and possibly showing it off a bit to the FBP group.

I was also going to talk a little bit about fact bases, and the inherent strength of simple models, but I think I'll leave that for another day. When I get permission to Free this editor, I'll have quite a bit more to say about that in any case.

* * *
##### Footnotes
1 - <a name="foot-Tue-Nov-26-232106EST-2013"></a>[|back|](#note-Tue-Nov-26-232106EST-2013) - Har har, aren't I droll.

2 - <a name="foot-Tue-Nov-26-232113EST-2013"></a>[|back|](#note-Tue-Nov-26-232113EST-2013) - Except for UI purposes, obviously. The various selection/manipulation layers are going to have distinct visual cues that rely on color, but I don't count these as part of the diagram proper, even though they may be visually associated.

3 - <a name="foot-Tue-Nov-26-232118EST-2013"></a>[|back|](#note-Tue-Nov-26-232118EST-2013) - Which incidentally kills any use we might get out of svg-edit's or Inkscape's `connection` tools. Each of them assume a single connection between two shapes, anchored at each center-point. No idea if said connection can be directional or not, but we've already established that it won't do, so I'm not looking into it.
